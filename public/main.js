// Generated by CoffeeScript 1.12.6
(function() {
  var Snowflake, TK, showcase,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  global.requireLib = function(path) {
    return require(__dirname + ("/public/" + path));
  };

  TK = {
    Showcase: requireLib('lib/showcase'),
    VisibleObject: requireLib('lib/visible_object')
  };

  Snowflake = (function(superClass) {
    extend(Snowflake, superClass);

    function Snowflake() {
      Snowflake.__super__.constructor.call(this);
      this.direction = 270;
      this.color.blue = 200;
      this.velocity = 1;
      this.moveTo(Math.floor(Math.random() * 800), 1);
    }

    Snowflake.prototype.flutter = function() {
      this.direction += (Math.random() * 20) - 10;
      return this.direction = Math.max(180, Math.min(360, this.direction));
    };

    Snowflake.prototype.step = function() {
      this.flutter();
      return Snowflake.__super__.step.call(this);
    };

    return Snowflake;

  })(TK.VisibleObject);

  showcase = new TK.Showcase('workspace');

  showcase.add(new Snowflake());

  showcase.eventLoop(function(sc) {
    return sc.add(new Snowflake());
  });

}).call(this);

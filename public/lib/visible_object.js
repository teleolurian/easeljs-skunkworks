// Generated by CoffeeScript 1.12.6
(function() {
  var Color, VisibleObject;

  Color = require('./color');

  module.exports = VisibleObject = (function() {
    VisibleObject.prototype._beginDraw = function() {
      return this.entity.graphics.beginFill(this.color.hexcolor());
    };

    VisibleObject.prototype._createEntity = function() {
      return this.entity = new createjs.Shape();
    };

    VisibleObject.prototype._deg2rad = function(num) {
      return num * Math.PI / 180.0;
    };

    VisibleObject.prototype._step = function() {
      var xvel, yvel;
      if (this.velocity === 0) {
        return;
      }
      xvel = this.velocity * Math.cos(this._deg2rad(this.direction));
      yvel = -1 * this.velocity * Math.sin(this._deg2rad(this.direction));
      return this.moveBy(xvel, yvel);
    };

    function VisibleObject() {
      this._createEntity();
      this.direction = 0;
      this.velocity = 0;
      this.color = new Color(128, 128, 128);
      this.moveTo(0, 0);
    }

    VisibleObject.prototype.coords = function() {
      return {
        x: this.entity.x,
        y: this.entity.y,
        direction: this.direction,
        velocity: this.velocity,
        color: this.color.hexcolor()
      };
    };

    VisibleObject.prototype.draw = function() {
      return this._beginDraw().drawCircle(0, 0, 4);
    };

    VisibleObject.prototype.moveBy = function(x, y) {
      this.entity.x += x;
      return this.entity.y += y;
    };

    VisibleObject.prototype.moveTo = function(x, y) {
      this.entity.x = x;
      return this.entity.y = y;
    };

    VisibleObject.prototype.prunable = function() {
      return false;
    };

    VisibleObject.prototype.step = function() {
      return this._step();
    };

    return VisibleObject;

  })();

}).call(this);

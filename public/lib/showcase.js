// Generated by CoffeeScript 1.12.6
(function() {
  var Showcase;

  module.exports = Showcase = (function() {
    function Showcase(id) {
      this.id = id;
      this.stage = new createjs.Stage(this.id);
      this.objects = [];
      this.fps = 120;
    }

    Showcase.prototype.add = function(obj) {
      return this.objects.push(obj);
    };

    Showcase.prototype.blit = function() {
      var i, len, o, ref;
      ref = this.objects;
      for (i = 0, len = ref.length; i < len; i++) {
        o = ref[i];
        o.step();
        o.draw();
        this.stage.addChild(o.entity);
      }
      return this.stage.update();
    };

    Showcase.prototype.prune = function() {
      return this.objects = this.objects.filter(function(o) {
        return o.prunable();
      });
    };

    Showcase.prototype.eventLoop = function(fn) {
      var eloop;
      if (fn == null) {
        fn = null;
      }
      eloop = (function(_this) {
        return function() {
          if (typeof fn === 'function') {
            fn(_this);
          }
          _this.blit();
          return setTimeout(eloop, Math.max(Math.floor(1000 / _this.fps), 10));
        };
      })(this);
      return eloop();
    };

    return Showcase;

  })();

}).call(this);
